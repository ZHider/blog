window.encrypt=async function(c,g,e,k,l){async function h(a,b){b=b||"";const d=new TextEncoder;a=d.encode(a);b=d.encode(b);b=await window.crypto.subtle.importKey("raw",b,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);a=await window.crypto.subtle.sign("HMAC",b,a);a=btoa(String.fromCharCode.apply(null,new Uint8Array(a)));a=a.replace(/(.{64})/g,"$1\n");return a+"\n"}function m(a){const b={A:"!",E:"@",I:"#",M:"$",Q:"%",U:"^",Y:"&"};for(let f=1;f<a.length;f++){var d=a[f];isNaN(d)&&(d="z"===d?"*":b[d.toUpperCase()])&&
(a[f]=d)}}function n(a){for(let b=0;31>=b;b++)if("+"==a[b]||"/"==a[b])a[b]="6"}function p(a){isNaN(a[0])?a[0]=a[0].toUpperCase():a[0]="M"}c&&g?(c=await h(c,g),c=await h(c,"BmL6cwcs0MzmEMXj"),c=Array.from(c),e&&m(c),n(c),k&&p(c),e=c.slice(0,l).join("")):e="";return e};
