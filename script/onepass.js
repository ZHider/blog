window.encrypt=async function(n,a,e,r,t){async function o(n,a){a=a||"";var e=new TextEncoder;return n=e.encode(n),a=e.encode(a),a=await window.crypto.subtle.importKey("raw",a,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=await window.crypto.subtle.sign("HMAC",a,n),(n=(n=btoa(String.fromCharCode.apply(null,new Uint8Array(n)))).replace(/(.{64})/g,"$1\n"))+"\n"}return e=n&&a?(n=await o(n,a),n=await o(n,"BmL6cwcs0MzmEMXj"),n=Array.from(n),e&&function(a){var e={A:"!",E:"@",I:"#",M:"$",Q:"%",U:"^",Y:"&"};for(let n=1;n<a.length;n++){var r=a[n];isNaN(r)&&(r="z"===r?"*":e[r.toUpperCase()])&&(a[n]=r)}}(n),function(a){for(let n=0;n<=31;n++)"+"!=a[n]&&"/"!=a[n]||(a[n]="6")}(n),r&&(a=n,isNaN(a[0])?a[0]=a[0].toUpperCase():a[0]="M"),n.slice(0,t).join("")):""};